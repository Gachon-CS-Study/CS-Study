# 메인 메모리 

메인 메모리는 CPU가 직접 접근할 수 있는 기억 장치이며 프로세스가 실행되려면 프로그램이 메모리에 올라와야 한다.

레지스터의 명령 -> CPU 의 메모리 접근 -> 다음 수행할 명령어를 획득

# MMU

![MMU](https://github.com/user-attachments/assets/07787681-335a-45d1-a18c-55e691b8ba6c)

 컴퓨터 시스템에서 메모리 관리를 담당하는 하드웨어 장치입니다. 
 MMU는 CPU와 물리 메모리(RAM) 사이에 위치하여 가상 메모리 주소를 실제 물리 메모리 주소로 변환하는 역할을 합니다. 
 이를 통해 프로그램은 독립된 가상 메모리 공간을 사용할 수 있게 되어 메모리 보호, 메모리 공유, 효율적인 메모리 사용 등을 가능하게합니다.

<br>

 > MMU의 메모리 보호 전략

1.각 프로세스에 영역을 설정

2.잘못된 접근 발생 시 trap 발생 

![trap](https://github.com/user-attachments/assets/e5cfd2dd-227c-4111-b0c4-33059cee4495)

*base - 시작 주소

*limit - 사이즈
>즉,|base <= x < base+limit 밖의 x요청에는 trap을 발생시킨다.

# 메모리 과할당 

<img width="538" alt="페이지 교체" src="https://github.com/user-attachments/assets/ad2c3543-3a11-4327-84c2-0a69af991e47">

실제 메모리의 용량보다 더 큰 용량을 프로세스에 할당한 상태이다.

이 문제에 대한 해결책은 두가지가 있다.

1.메모리에 올라와 있는 한 프로세스를 종료시켜 빈 프레임을 얻음

2.프로세스 하나를 swap out하고, 이 공간을 빈 프레임으로 활용

*swap out: 실행 중인 프로세스를 디스크의 스왑 영역(swap space)으로 이동시켜 메모리를 확보

swapping 기법을 통해 공간을 바꿔치기하는 2번 방법과는 달리 1번은 사용자에게 페이징 시스템을 들킬 가능성이 매우 높아서 하면 안된다.
(페이징 기법은 사용자 모르게 시스템 능률을 높이기 위해 선택한 일이므로 들키지 않게 처리해야한다)

# 페이지 교체 

페이지 교체 방법이란, 메모리의 과할당이 발생했을때, 프로세스 하나를 swap out 해서 빈 프레임을 확보하는 것이다.

1.프로세스 실행 도중 페이지 부재 발생

2.페이지 폴트를 발생시킨 페이지 위치를 디스크에서 찾음

3.메모리에 빈 프레임이 있는지 확인

>빈 프레임이 있으면 해당 프레임을 사용

>빈 프레임이 없으면, victim 프레임을 선정해 디스크에 기록하고 페이지 테이블을 업데이트함

4.빈 프레임에 페이지 폴트가 발생한 페이지를 올리고, 페이지 테이블 업데이트

*이 모든 과정은 사용자가 알아차리지 못하게 수행되어야 한다.

# 캐싱 라인 

![캐시 라인](https://github.com/user-attachments/assets/9b1a1fea-b802-4312-9f78-5a1535542079)

2주 전에 우리가 공부했던 , 그 캐시가 맞습니다.

내가 자주 사용하는 데이터를 캐시 공간에 저장을 했을지라도, 해당 데이터를 다시 찾기 위해서 모든 메모리를 순회하는 것은 시간 낭비이다.

따라서 캐시에 데이터를 저장할 시, 자료구조를 활용해 묶어서 저장하는데 이를 캐싱 라인이라고 부른다.

즉, 캐시에 저장하는 데이터에 데이터의 메모리 주소를 함께 저장하면서 빠르게 원하는 정보를 찾을 수 있음 (set이나 map 등을 활용)

<hr>

# 자체 제작 문제

1.MMU가 제공하는 주요 기능 세 가지를 답하시오.

2.운영체제가 메모리 과할당 상황에서 프로세스 하나를 swap out하는 이유와 swap out이 일어나는 과정을 간단히 설명하시오.

3.메인 메모리와 MMU의 개념에 대해 설명하시오 

<hr>

# 출처

https://gyoogle.dev/blog/computer-science/operating-system/Memory.html

https://blog.skby.net/mmu-memory-management-unit/

https://velog.io/@dnwlaos23/%ED%8E%98%EC%9D%B4%EC%A7%80-%EA%B5%90%EC%B2%B4-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98

